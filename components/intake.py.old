import wpilib
import enum
import ctre
from ctre import CANTalon


class Action(enum.Enum):
    Intake = 1
    Stop = 0
    Outtake = -1


class Intake:
    master_intake_motor = CANTalon  # left
    slave_intake_motor = CANTalon   # right

    cur_action = Action.Stop

    def setup(self):
        self.slave_intake_motor.setControlMode(
            CANTalon.ControlMode.Follower)
        self.slave_intake_motor.set(self.master_intake_motor.getDeviceID())
        self.slave_intake_motor.reverseOutput(True)

    def execute(self):
        if self.cur_action == Action.Intake:
            self.master_intake_motor.set(1.0)
        elif self.cur_action == Action.Outtake:
            self.master_intake_motor.set(-1.0)
        elif self.cur_action == Action.Stop:
            self.master_intake_motor.set(0.0)
